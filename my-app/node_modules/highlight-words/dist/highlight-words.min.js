"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const y=t=>e=>e!==null&&typeof e=="object"&&t in e,i=y("match"),a=t=>typeof t<"u";function h({curr:t,next:e,prev:r,clipBy:n=3}){const o=t.text.split(" "),s=o.length;if(t.match||n>=s)return t.text;const c="...";return a(e)&&a(r)&&i(r)&&i(e)?s>n*2?[...o.slice(0,n),c,...o.slice(-n)].join(" "):t.text:a(e)&&i(e)?[c,...o.slice(-n)].join(" "):a(r)&&i(r)?[...o.slice(0,n),c].join(" "):t.text}const g=t=>t.replace(/[|\\{}()[\]^$+*?.-]/g,e=>`\\${e}`),f=t=>t.replace(/\s{2,}/g," ").split(" ").join("|"),E=({terms:t,matchExactly:e=!1})=>{if(typeof t!="string")throw new TypeError("Expected a string");const r=g(t.trim());return`(${e?r:f(r)})`},w=({terms:t,matchExactly:e=!1})=>{try{const r=/^([/~@;%#'])(.*?)\1([gimsuy]*)$/.exec(t);return r?new RegExp(r[2],r[3]):new RegExp(E({terms:t,matchExactly:e}),"ig")}catch{throw new TypeError("Expected terms to be either a string or a RegExp!")}};let m=36,u="";for(;m--;)u+=m.toString(36);function x(t=11){let e="",r=t;for(;r--;)e+=u[Math.random()*36|0];return e}const d=t=>t.length>0,j=({text:t,query:e,clipBy:r,matchExactly:n=!1})=>{const o=typeof e=="string"?e.trim():e;if(o==="")return[{key:x(),text:t,match:!1}];const s=w({terms:e,matchExactly:n});return t.split(s).filter(d).map(c=>({key:x(),text:c,match:n?c.toLowerCase()===o.toLowerCase():s.test(c)})).map((c,l,p)=>({...c,...typeof r=="number"&&{text:h({curr:c,...l<p.length-1&&{next:p[l+1]},...l>0&&{prev:p[l-1]},clipBy:r})}}))};exports.default=j;
//# sourceMappingURL=highlight-words.min.js.map
